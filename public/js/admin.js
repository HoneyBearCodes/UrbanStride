document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelectorAll(".deleteButton");function r(){let e=document.querySelectorAll(".product.card"),r=document.querySelector(".error-card"),t=document.querySelector(".products.grid");if(0===e.length&&!r){t&&t.remove();let o=document.querySelector("main .container.main"),a=document.createElement("div");a.classList.add("error-card","card","card--linear","margin-bottom-sm"),a.innerHTML=`<h1 class="error-code">Booo!!</h1><p class="error-title">No Products Found!</p><p class="error-subtitle margin-bottom-sm">But you can create new ones!</p><p class="error-message">[üõçÔ∏è Products took a sabbatical üõí]</p>`,o.appendChild(a)}}e.forEach(e=>{e.addEventListener("click",async function(e){let t=this.parentNode.querySelector("[name=id]").value,o=this.parentNode.querySelector("[name=_csrf]").value,a=this.parentNode.closest("article");try{let c=await fetch(`/admin/product/${t}`,{method:"DELETE",headers:{"csrf-token":o}});c&&(a.remove(),r())}catch(l){console.log(l)}})})});
